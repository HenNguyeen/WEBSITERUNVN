@model IEnumerable<DBStoreSport.Models.Product>
@{
    ViewBag.Title = "Quản lý tồn kho";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="mb-3 text-primary fw-bold">
    📦 Quản lý tồn kho
</h2>
<a href="@Url.Action("History", "AdminStock")" class="btn btn-outline-primary">
    <i class="fas fa-clock"></i> Xem lịch sử nhập/xuất
</a>

@if (TempData["Message"] != null)
{
    <div class="alert alert-success text-center fw-bold">
        @TempData["Message"]
    </div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger text-center fw-bold">
        @TempData["Error"]
    </div>
}

<table class="table table-bordered table-hover align-middle shadow-sm bg-white">
    <thead color:#0d6efd; font-weight:600;">
        <tr class="text-center">
            <th>Mã SP</th>
            <th>Tên sản phẩm</th>
            <th>Tồn kho</th>
            <th>Giá bán</th>
            <th>Nhập kho</th>
            <th>Xuất kho</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td class="text-center">@item.ProductID</td>
                <td>@item.NamePro</td>
                <td class="text-center">@item.Quantity</td>
                <td class="text-end">@string.Format("{0:N0} đ", item.Price)</td>
                <td>
                    @using (Html.BeginForm("ImportStock", "AdminStock", FormMethod.Post))
                    {
                        @Html.Hidden("productId", item.ProductID)
                        <div class="d-flex gap-2 justify-content-center">
                            <input type="number" name="quantity" class="form-control text-center quantity-input" min="1" placeholder="SL" required />
                            <button type="submit" class="btn btn-stock">Nhập</button>
                        </div>
                    }
                </td>
                <td>
                    @using (Html.BeginForm("ExportStock", "AdminStock", FormMethod.Post))
                    {
                        @Html.Hidden("productId", item.ProductID)
                        <div class="d-flex gap-2 justify-content-center">
                            <input type="number" name="quantity" class="form-control text-center quantity-input" min="1" placeholder="SL" required />
                            <button type="submit" class="btn btn-stock">Xuất</button>
                        </div>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>
<style>
    .btn-history {
        background-color: #f8fbff;
        border: 1px solid #0d6efd;
        color: #0d6efd;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.2s ease-in-out;
    }

        .btn-history:hover {
            background-color: #0d6efd;
            color: white;
            box-shadow: 0 0 6px rgba(13, 110, 253, 0.4);
        }

    .input-group {
        max-width: 160px;
    }

    .btn {
        white-space: nowrap;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.2s ease-in-out;
    }

    /* Màu trắng xanh dương nhẹ */
    .btn-stock {
        background-color: #f8fbff; /* gần trắng */
        border: 1px solid #007bff; /* xanh dương nhạt */
        color: #007bff;
    }

        /* Khi rê chuột vào */
        .btn-stock:hover {
            background-color: #007bff;
            color: #fff;
            border-color: #007bff;
            box-shadow: 0 0 6px rgba(0, 123, 255, 0.4);
        }
</style>


